@tailwind base;
@tailwind components;
@tailwind utilities;

/* Basic Embla Carousel Styles */
.embla {
  overflow: hidden;
}

.embla__container {
  display: flex;
}

.embla__slide {
  flex: 0 0 auto;
  min-width: 0;
}

/* Custom component classes - только те, где нужны кастомные CSS свойства */
@layer components {
  /* Date badge с кастомным поворотом */
  .date-badge {
    @apply inline-block border-2 border-white/20 bg-white/10 p-8 text-white backdrop-blur-sm transition-all duration-300;
    transform: rotate(-2deg);
  }

  .date-badge:hover {
    transform: rotate(0deg) scale(1.05);
    @apply bg-white/20;
  }

  .date-badge h2 {
    @apply mb-3 text-2xl font-bold lg:text-3xl;
  }

  .date-badge-heading {
    @apply mb-3 text-2xl font-bold lg:text-3xl;
  }

  /* Section title с кастомным псевдоэлементом */
  .section-title {
    @apply relative mb-4 text-4xl font-bold text-dark;
  }

  .section-title::after {
    content: "";
    @apply absolute -bottom-[10px] left-1/2 h-1 w-20 -translate-x-1/2 rounded-full bg-gradient-to-br from-primary to-secondary;
  }

  /* Funny quote с кастомным поворотом и псевдоэлементом */
  .funny-quote {
    @apply relative bg-gradient-to-br from-primary to-secondary p-8 text-white;
    transform: rotate(1deg);
  }

  .funny-quote::before {
    content: '"';
    position: absolute;
    top: -0.5rem;
    left: 1.25rem;
    font-size: 3.75rem;
    opacity: 0.3;
  }

  /* Meeting card с кастомным псевдоэлементом */
  .meeting-card {
    @apply relative overflow-hidden p-12 transition-all duration-300 hover:-translate-y-3;
  }

  .meeting-card::before {
    content: "";
    position: absolute;
    left: 0;
    right: 0;
    top: 0;
    height: 0.25rem;
    background: linear-gradient(
      to right,
      var(--tw-gradient-from),
      var(--tw-gradient-via),
      var(--tw-gradient-to)
    );
  }

  /* Stat items с кастомными свойствами */
  .stat-item {
    @apply min-w-[100px] border-2 border-white/20 bg-white/10 p-4 text-center backdrop-blur-sm transition-all duration-300 hover:-translate-y-2 hover:border-accent hover:bg-white/20;
  }

  .stat-number {
    @apply mb-2 block text-5xl font-bold text-accent lg:text-7xl;
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
  }

  .stat-label {
    @apply block text-base uppercase tracking-wide text-white opacity-90;
  }

  /* About section items */
  .about-item {
    @apply flex items-start rounded-2xl border-2 border-gray-700 bg-gray-900 p-6 shadow-lg transition-all duration-300 hover:-translate-y-2 hover:scale-105;
  }

  /* Multiple Embla Carousel Styles */
  .gallery-sliders .embla {
    overflow: hidden;
    pointer-events: none;
    --slide-spacing: 1rem;
  }

  .gallery-sliders .embla__container {
    display: flex;
    touch-action: pan-y pinch-zoom;
    margin-left: calc(var(--slide-spacing) * -1);
  }

  .gallery-sliders .embla__slide {
    @apply flex min-w-0 max-w-[250px] flex-col items-center justify-center overflow-hidden rounded-md lg:max-w-[360px];
    margin-right: var(--slide-spacing);
    transform: translate3d(0, 0, 0);
  }

  .gallery-sliders .slide-img {
    @apply h-[200px] max-w-full lg:h-[260px];
  }

  .gallery-sliders .slide-bg {
    @apply absolute inset-0 size-full;
  }

  .slide-bg {
    position: absolute;
    inset: 0;
    height: 100%;
    width: 100%;
    background-size: cover;
    background-position: center;
    filter: blur(10px);
    transform: scale(1.1);
    z-index: 1;
  }

  .slide-img {
    position: relative;
    z-index: 10;
    height: 100%;
    width: 100%;
    object-fit: contain;
  }

  /* Countdown timer styles */
  .countdown-timer {
    @apply my-6 flex flex-wrap justify-center gap-4 lg:gap-6;
  }

  .countdown-item {
    @apply p-2 text-center transition-all duration-300 hover:-translate-y-2 lg:min-w-[100px] lg:p-6;
  }

  .countdown-number {
    @apply mb-2 block text-4xl font-bold text-accent lg:text-7xl;
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
  }

  .countdown-label {
    @apply block text-sm uppercase tracking-wide text-white opacity-90;
  }

  /* Audio Player Styles */
  .audio-player {
    @apply inline-flex items-center gap-2;
  }

  .play-btn {
    @apply text-2xl text-white transition-all transition-colors duration-300 hover:scale-110 hover:text-primary;
  }

  .audio-info {
    @apply text-white;
  }

  .audio-player.playing .play-btn {
    animation: pulse 2s infinite;
  }

  @keyframes pulse {
    0%,
    100% {
      transform: scale(1);
    }
    50% {
      transform: scale(1.1);
    }
  }

  /* Scroll Arrow Styles */
  .scroll-arrow {
    @apply mt-auto flex justify-center pt-8;
  }

  .arrow-container {
    @apply flex h-12 w-12 cursor-pointer items-center justify-center rounded-full border-2 border-white/30 bg-white/10 backdrop-blur-sm transition-all duration-300;
    animation: arrow-bounce 2s infinite;
  }

  .arrow-container:hover {
    animation-play-state: paused;
    transform: scale(1.1);
    @apply border-white/50 bg-white/20;
  }

  .arrow-icon {
    @apply h-6 w-6 text-white;
    filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));
  }

  @keyframes arrow-bounce {
    0%,
    20%,
    50%,
    80%,
    100% {
      transform: translateY(0);
    }
    40% {
      transform: translateY(-10px);
    }
    60% {
      transform: translateY(-5px);
    }
  }

  .scroll-arrow.hidden {
    opacity: 0;
    transform: translateX(-50%) translateY(20px);
    pointer-events: none;
  }

  /* Fullscreen Play Overlay */
  .play-overlay {
    @apply fixed inset-0 z-50 flex items-center justify-center;
    background: linear-gradient(135deg, #1a1a1a 0%, #0a0a0a 100%);
  }

  .play-overlay-bg {
    @apply absolute inset-0 bg-cover bg-center bg-no-repeat;
    background-image: url("/img/korzh.jpg");
    filter: brightness(0.3) contrast(1.2);
  }

  .play-overlay-content {
    @apply relative z-10 flex flex-col items-center justify-center text-center;
  }

  .big-play-btn {
    @apply flex h-32 w-32 cursor-pointer items-center justify-center rounded-full border-4 border-white/30 bg-white/10 backdrop-blur-sm transition-all duration-500;
    animation: pulse-glow 2s infinite;
  }

  .big-play-btn:hover {
    @apply scale-110 border-white/50 bg-white/20;
  }

  .big-play-icon {
    @apply h-16 w-16 text-white;
    filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.5));
  }

  .play-overlay.hidden {
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.8s ease-out;
  }

  /* Block scrolling when overlay is active */
  body.scroll-locked {
    overflow: hidden;
    position: fixed;
    width: 100%;
    height: 100%;
    transition: all 0.3s ease-out;
  }

  body:not(.scroll-locked) {
    transition: all 0.3s ease-in;
  }

  @keyframes pulse-glow {
    0%,
    100% {
      box-shadow: 0 0 20px rgba(255, 255, 255, 0.3);
    }
    50% {
      box-shadow: 0 0 40px rgba(255, 255, 255, 0.6);
    }
  }
}
